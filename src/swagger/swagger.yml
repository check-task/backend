openapi: 3.0.0
info:
  title: UMC 9th
  description: UMC 9th Node.js 테스트 프로젝트입니다.
  version: 1.0.0

servers:
  - url: http://localhost:3000
    description: Local Development Server

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

tags:
  - name: Task
    description: 과제 관련 API
  - name: Alarm
    description: 알림 관련 API
  - name: User
    description: 사용자 관련 API
  - name: Folder
    description: 폴더 관련 API
  - name: Comment
    description: 댓글 관련 API
  - name: Modal
    description: 모달/자료 관련 API
  - name: Kakao Auth
    description: 카카오 인증 관련 API

paths:
  api/v1/alarm:
    get:
      tags:
        - Alarm
      summary: 알림 목록 조회
      description: 사용자의 알림 목록을 조회합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: query
          name: cursor
          schema:
            type: integer
          required: false
          description: 페이징 커서
        - in: query
          name: limit
          schema:
            type: integer
          required: false
          description: 조회 개수
          default: 10
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: SUCCESS
                  data:
                    type: array
                    items:
                      type: object
        
    delete:
      tags:
        - Alarm
      summary: 전체 알림 삭제
      description: 사용자의 모든 알림을 삭제합니다.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: 성공

  api/v1/alarm/{alarmId}:
    delete:
      tags:
        - Alarm
      summary: 개별 알림 삭제
      description: 특정 알림을 삭제합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: alarmId
          required: true
          schema:
            type: integer
          description: 알림 ID
      responses:
        '200':
          description: 성공

    patch:
      tags:
        - Alarm
      summary: 알림 읽음 처리
      description: 알림을 읽음으로 표시합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: alarmId
          required: true
          schema:
            type: integer
          description: 알림 ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                isRead:
                  type: boolean
                  example: true
      responses:
        '200':
          description: 성공


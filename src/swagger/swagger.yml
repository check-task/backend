openapi: 3.0.0
info:
  title: Check-Task
  description: Check-Task API 문서입니다.
  version: 1.0.0


components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

tags:
  - name: Task
    description: 과제 관련 API
  - name: Alarm
    description: 알림 관련 API
  - name: User
    description: 사용자 관련 API
  - name: Folder
    description: 폴더 관련 API
  - name: Comment
    description: 댓글 관련 API
  - name: Reference
    description: 자료/커뮤니케이션/회의록 관련 API
  - name: Kakao Auth
    description: 카카오 인증 관련 API

paths:
  # -- 알림 API --
  # 알림 목록 조회
  /api/v1/alarm:
    get:
      tags:
        - Alarm
      summary: 알림 목록 조회
      description: 사용자의 알림 목록을 조회합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: query
          name: cursor
          schema:
            type: integer
          required: false
          description: 페이징 커서 (마지막 알림 ID)
        - in: query
          name: limit
          schema:
            type: integer
          required: false
          description: 조회 개수
          default: 10
        - in: query
          name: orderBy
          schema:
            type: string
          required: false
          description: 정렬 기준
        - in: query
          name: order
          schema:
            type: string
            enum: [asc, desc]
          required: false
          description: 정렬 순서
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: SUCCESS
                  message:
                    type: string
                    example: 알림 목록 조회 성공
                  data:
                    type: object
                    properties:
                      alarmList:
                        type: array
                        items:
                          type: object
                          properties:
                            alarmId:
                              type: integer
                              example: 1
                            title:
                              type: string
                              example: 과제 마감 임박
                            alarmContent:
                              type: string
                              example: 포트폴리오 웹사이트 제작 마감이 3일 남았습니다
                            isRead:
                              type: boolean
                              example: false
                            alarmDate:
                              type: string
                              format: date-time
                              example: "2026-01-20T10:00:00.000Z"
                            taskId:
                              type: integer
                              nullable: true
                              example: 1
                            subTaskId:
                              type: integer
                              nullable: true
                              example: null
                            type:
                              type: string
                              nullable: true
                              enum: [PERSONAL, TEAM]
                              example: TEAM
                      meta:
                        type: object
                        properties:
                          hasNextPage:
                            type: boolean
                            example: false
                          cursor:
                            type: integer
                            nullable: true
                            example: null
        '401': 
          description: 인증 실패
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 401
                  errorCode: TOKEN_NOT_FOUND
                  reason: 토큰이 누락되었습니다.
                  data: null
        '403':
          description: 탈퇴한 유저
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 403
                  errorCode: USER_DELETED
                  reason: 탈퇴한 유저는 알림을 조회할 수 없습니다.
                  data: null
        '404':
          description: 사용자 없음
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 404
                  errorCode: USER_NOT_FOUND
                  reason: 사용자를 찾을 수 없습니다.
                  data: null
        '500':
          description: 서버 오류
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 500
                  errorCode: INTERNAL_SERVER_ERROR
                  reason: 서버 내부 오류가 발생했습니다.
                  data: null

    # 전체 알림 삭제    
    delete:
      tags:
        - Alarm
      summary: 전체 알림 삭제
      description: 사용자의 모든 알림을 삭제합니다.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: SUCCESS
                  message:
                    type: string
                    example: 알림 전체 삭제 성공
                  data:
                    type: "null"
                    example: null
        '401':
          description: 인증 실패
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 401
                  errorCode: TOKEN_NOT_FOUND
                  reason: 토큰이 누락되었습니다.
                  data: null
        '404':
          description: 사용자 없음
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 404
                  errorCode: USER_NOT_FOUND
                  reason: 사용자를 찾을 수 없습니다.
                  data: null
        '500':
          description: 서버 오류
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 500
                  errorCode: INTERNAL_SERVER_ERROR
                  reason: 서버 내부 오류가 발생했습니다.
                  data: null

    # 모든 알림 읽음 처리
    patch:
      tags:
        - Alarm
      summary: 모든 알림 읽음 처리
      description: 모든 알림을 읽음으로 표시합니다.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: SUCCESS
                  message:
                    type: string
                    example: 모든 알림 읽음 처리 성공
                  data:
                    type: "null"
                    example: null
        '401': 
          description: 인증 실패
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 401
                  errorCode: TOKEN_NOT_FOUND | TOKEN_INVALID | TOKEN_EXPIRED
                  reason: 토큰이 누락되었습니다. | 토큰이 유효하지 않습니다. | 토큰이 만료되었습니다.
                  data: null
        '403':
          description: 권한 없음
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 403
                  errorCode: USER_DELETED
                  reason: 탈퇴한 유저는 알림을 읽을 수 없습니다.
                  data: null
        '404':
          description: 사용자 없음
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 404
                  errorCode: USER_NOT_FOUND
                  reason: 사용자를 찾을 수 없습니다.
                  data: null
        '500':
          description: 서버 오류
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 500
                  errorCode: INTERNAL_SERVER_ERROR
                  reason: 서버 내부 오류가 발생했습니다.
                  data: null

  # 개별 알림 삭제 및 읽음 처리
  /api/v1/alarm/{alarmId}:
    delete:
      tags:
        - Alarm
      summary: 개별 알림 삭제
      description: 특정 알림을 삭제합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: alarmId
          required: true
          schema:
            type: integer
          description: 알림 ID
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: SUCCESS
                  message:
                    type: string
                    example: 개별 알림 삭제 성공
                  data:
                    type: "null"
                    example: null
        '400':
          description: 잘못된 요청 (파라미터 타입 오류 등)
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 400
                  errorCode: INVALID_PARAMETER
                  reason: params는 숫자로 보내야합니다.
                  data: null
        '401':
          description: 인증 실패
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 401
                  errorCode: TOKEN_NOT_FOUND
                  reason: 토큰이 누락되었습니다..
                  data: null
        '403':
          description: 탈퇴한 유저
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 403
                  errorCode: USER_DELETED
                  reason: 탈퇴한 유저는 알림을 삭제할 수 없습니다.
                  data: null
        '403': 
          description: 해당 알림에 접근 권한이 없습니다.
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 403
                  errorCode: ALARM_ACCESS_DENIED
                  reason: 해당 알림에 접근할 권한이 없습니다.
                  data: null
        '404':
          description: 알림 또는 사용자 없음
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 404
                  errorCode: ALARM_NOT_FOUND | USER_NOT_FOUND
                  reason: 해당 알림을 찾을 수 없습니다. | 사용자를 찾을 수 없습니다.
                  data: null
        '500':
          description: 서버 오류
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 500
                  errorCode: INTERNAL_SERVER_ERROR
                  reason: 서버 내부 오류가 발생했습니다.
                  data: null

    # 개별 알림 읽음 처리
    patch:
      tags:
        - Alarm
      summary: 개별 알림 읽음 처리
      description: 특정 알림을 읽음으로 표시합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: alarmId
          required: true
          schema:
            type: integer
          description: 알림 ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - isRead
              properties:
                isRead:
                  type: boolean
                  example: true
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: SUCCESS
                  message:
                    type: string
                    example: 알림 읽음 처리 성공
                  data:
                    type: object
                    properties:
                      alarm:
                        type: object
                        properties:
                          alarmId:
                            type: integer
                            example: 1
                          isRead:
                            type: boolean
                            example: true
        '400':
          description: 잘못된 요청 (파라미터 타입 오류 등)
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 400
                  errorCode: INVALID_PARAMETER | INVALID_BODY
                  reason: params는 숫자로 보내야합니다. | Body는 Boolean값으로 보내야합니다.
                  data: null
        '401':
          description: 인증 실패
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 401
                  errorCode: TOKEN_NOT_FOUND
                  reason: 토큰이 누락되었습니다.
                  data: null
        '404':
          description: 알림 또는 사용자 없음
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 404
                  errorCode: ALARM_NOT_FOUND | USER_NOT_FOUND
                  reason: 해당 알림을 찾을 수 없습니다. | 사용자를 찾을 수 없습니다.
                  data: null
        '500':
          description: 서버 오류
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 500
                  errorCode: INTERNAL_SERVER_ERROR
                  reason: 서버 내부 오류가 발생했습니다.
                  data: null

  # 최종 마감 알림 설정 수정
  /api/v1/alarm/settings/deadline:
    patch:
      tags:
        - Alarm
      summary: 최종 마감 알림 설정 수정
      description: 사용자의 최종 마감 알림 전송 시간을 변경합니다.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - deadlineAlarm
              properties:
                deadlineAlarm:
                  type: integer
                  description: 알림 전송 시간 (시간 단위)
                  example: 24
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: SUCCESS
                  message:
                    type: string
                    example: 최종 마감 시간의 알림 전송 시간을 변경했습니다.
                  data:
                    type: object
                    properties:
                      user:
                        type: object
                        properties:
                          userId:
                            type: integer
                            example: 1
                          deadlineAlarm:
                            type: integer
                            example: 24
        '400':
          description: 잘못된 요청
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 400
                  errorCode: INVALID_BODY
                  reason: DeadlineAlarm의 타입은 number 입니다.
                  data: null
        '401':
          description: 인증 실패
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 401
                  errorCode: TOKEN_NOT_FOUND
                  reason: 토큰이 누락되었습니다.
                  data: null
        '404':
          description: 사용자 없음
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 404
                  errorCode: USER_NOT_FOUND
                  reason: 사용자를 찾을 수 없습니다.
                  data: null
        '500':
          description: 서버 오류
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 500
                  errorCode: INTERNAL_SERVER_ERROR
                  reason: 서버 내부 오류가 발생했습니다.
                  data: null

  # 과제 마감 알림 설정 수정
  /api/v1/alarm/settings/task:
    patch:
      tags:
        - Alarm
      summary: 과제 마감 알림 설정 수정
      description: 사용자의 과제 마감 알림 전송 시간을 변경합니다.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - taskAlarm
              properties:
                taskAlarm:
                  type: integer
                  description: 알림 전송 시간 (시간 단위)
                  example: 24
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: SUCCESS
                  message:
                    type: string
                    example: 과제 마감 시간의 알림 전송 시간을 변경했습니다.
                  data:
                    type: object
                    properties:
                      user:
                        type: object
                        properties:
                          userId:
                            type: integer
                            example: 1
                          taskAlarm:
                            type: integer
                            example: 24
        '400':
          description: 잘못된 요청
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 400
                  errorCode: INVALID_BODY
                  reason: TaskAlarm의 타입은 number 입니다.
                  data: null
        '401':
          description: 인증 실패
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 401
                  errorCode: TOKEN_NOT_FOUND
                  reason: 토큰이 누락되었습니다.
                  data: null
        '404':
          description: 사용자 없음
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 404
                  errorCode: USER_NOT_FOUND
                  reason: 사용자를 찾을 수 없습니다.
                  data: null
        '500':
          description: 서버 오류
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 500
                  errorCode: INTERNAL_SERVER_ERROR
                  reason: 서버 내부 오류가 발생했습니다.
                  data: null

  # 과제 알림 여부 수정
  /api/v1/alarm/task/{taskId}:
    patch:
      tags:
        - Alarm
      summary: 과제 알림 여부 수정
      description: 특정 과제의 알림 여부를 변경합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: taskId
          required: true
          schema:
            type: integer
          description: 과제 ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - isAlarm
              properties:
                isAlarm:
                  type: boolean
                  description: 알림 여부
                  example: true
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: SUCCESS
                  message:
                    type: string
                    example: 과제에 대한 알림 여부를 변경하였습니다.
                  data:
                    type: object
                    properties:
                      task:
                        type: object
                        properties:
                          taskId:
                            type: integer
                            example: 1
                          isAlarm:
                            type: boolean
                            example: true
        '400':
          description: 잘못된 요청
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 400
                  errorCode: INVALID_PARAMETER | INVALID_BODY
                  reason: params의 taskId는 숫자로 보내야합니다. | Body의 isAlarm 데이터는 Boolean 형식으로 보내야합니다.
                  data: null
        '401':
          description: 인증 실패
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 401
                  errorCode: TOKEN_NOT_FOUND
                  reason: 토큰이 누락되었습니다.
                  data: null
        '404':
          description: 사용자 또는 과제 없음
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 404
                  errorCode: USER_NOT_FOUND | TASK_NOT_FOUND
                  reason: 사용자를 찾을 수 없습니다. | 요청하신 taskID가 DB에 존재하지 않습니다.
                  data: null
        '500':
          description: 서버 오류
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 500
                  errorCode: INTERNAL_SERVER_ERROR
                  reason: 서버 내부 오류가 발생했습니다.
                  data: null

  # 세부과제 알림 여부 수정
  /api/v1/alarm/subtask/{subtaskId}:
    patch:
      tags:
        - Alarm
      summary: 세부과제 알림 여부 수정
      description: 특정 세부과제의 알림 여부를 변경합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: subtaskId
          required: true
          schema:
            type: integer
          description: 세부과제 ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - isAlarm
              properties:
                isAlarm:
                  type: boolean
                  description: 알림 여부
                  example: true
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: SUCCESS
                  message:
                    type: string
                    example: 세부과제에 대한 알림 여부를 변경하였습니다.
                  data:
                    type: object
                    properties:
                      subtask:
                        type: object
                        properties:
                          subTaskId:
                            type: integer
                            example: 1
                          isAlarm:
                            type: boolean
                            example: true
        '400':
          description: 잘못된 요청
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 400
                  errorCode: INVALID_PARAMETER | INVALID_BODY
                  reason: params의 subTaskId는 숫자로 보내야합니다. | Body의 isAlarm 데이터는 Boolean 형식으로 보내야합니다.
                  data: null
        '401':
          description: 인증 실패
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 401
                  errorCode: TOKEN_NOT_FOUND
                  reason: 토큰이 누락되었습니다.
                  data: null
        '403':
          description: 해당 세부과제에 접근 권한이 없습니다.
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 403
                  errorCode: SUBTASK_ACCESS_DENIED
                  reason: 해당 세부과제에 접근할 권한이 없습니다.
                  data: null
        '404':
          description: 사용자 또는 세부과제 없음 또는 세부과제 업데이트에 실패
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 404
                  errorCode: USER_NOT_FOUND | SUBTASK_NOT_FOUND | SUBTASK_UPDATE_FAILED
                  reason: 사용자를 찾을 수 없습니다. | 세부과제를 찾을 수 없습니다. | 세부과제 업데이트에 실패했습니다.
                  data: null
        '500':
          description: 서버 오류
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 500
                  errorCode: INTERNAL_SERVER_ERROR
                  reason: 서버 내부 오류가 발생했습니다.
                  data: null

  # 안읽은 알림 여부 반환
  /api/v1/alarm/unread-count:
    get:
      tags:
        - Alarm
      summary: 안읽은 알림 여부 반환
      description: 안읽은 알림 여부를 반환합니다.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: SUCCESS
                  message:
                    type: string
                    example: 안읽은 알림 개수 조회 성공
                  data:
                    type: object
                    properties:
                      count:
                        type: integer
                        description: 안읽은 알림 개수
                        example: 3
                      hasUnread:
                        type: boolean
                        description: 안읽은 알림 존재 여부
                        example: true
        '401':
          description: 인증 실패
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 401
                  errorCode: TOKEN_NOT_FOUND
                  reason: 인증 토큰이 없습니다.
                  data: null
        '403':
          description: 권한 없음 (탈퇴한 유저)
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 403
                  errorCode: USER_DELETED
                  reason: 탈퇴한 유저는 알림을 조회할 수 없습니다.
                  data: null
        '404':
          description: 사용자 없음
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 404
                  errorCode: USER_NOT_FOUND
                  reason: 사용자를 찾을 수 없습니다.
                  data: null
        '500':
          description: 서버 내부 오류
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: FAIL
                  code: 500
                  errorCode: INTERNAL_SERVER_ERROR
                  reason: 서버 내부 오류가 발생했습니다.
                  data: null
  # -- 과제 API --
  # 과제 등록
  /api/v1/task:
    post:
      tags:
        - Task
      summary: 과제 생성
      description: 새로운 과제와 세부 태스크들을 생성합니다.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [title, deadline, type]
              properties:
                title:
                  type: string
                  example: "프로젝트1"
                folderId:
                  type: integer
                  example: 1
                deadline:
                  type: string
                  format: date
                  example: "2026-05-10"
                type:
                  type: string
                  enum: [TEAM, PERSONAL]
                  example: "PERSONAL"
                subTasks:
                  type: array
                  items:
                    type: object
                    properties:
                      title:
                        type: string
                        example: "세부과제1"
                      endDate:
                        type: string
                        format: date
                        example: "2026-05-05"
                references:
                  type: array
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                        example: "참고 문서 1"
                      url:
                        type: string
                        example: "https://example.com"
      responses:
        '201':
          description: 과제 등록 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: "SUCCESS"
                  message:
                    type: string
                    example: "요청이 처리되어서 새로운 과제가 생성되었습니다."
                  data:
                    type: object
                    properties:
                      taskId:
                        type: integer
                        example: 13
        '400':
          description: 잘못된 요청 (필수 값 누락 또는 형식 오류, 팀 과제 폴더 규칙 위반 등)
          content:
            application/json:
              example:
                resultType: "FAIL"
                code: 400
                errorCode: "BAD_REQUEST | TEAM_FOLDER_REQUIRED | INVALID_FOLDER"
                reason: "과제명은 필수입니다. | 팀 과제는 '팀' 폴더에만 생성할 수 있습니다. | 개인 과제는 '팀' 폴더에 생성할 수 없습니다. | 팀 과제는 '팀' 폴더에만 생성할 수 있습니다."
                data: null
        '401':
          description: 인증 실패 (토큰 만료 또는 누락)
        '404':
          description: 존재하지 않는 폴더
          content:
            application/json:
              example:
                resultType: "FAIL"
                code: 404
                errorCode: "FOLDER_NOT_FOUND"
                reason: "존재하지 않는 폴더입니다."
                data: null
        '500':
          description: 서버 내부 오류

    # 과제 목록 조회
    get:
      tags:
        - Task
      summary: 과제 목록 조회
      description: 필터(유형, 폴더, 상태) 및 정렬 조건에 따라 과제 목록을 조회합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: query
          name: type
          schema:
            type: string
            enum: [TEAM, PERSONAL]
          description: 과제 유형 필터
        - in: query
          name: folderId
          schema:
            type: integer
          description: 폴더별 필터
        - in: query
          name: status
          schema:
            type: string
            enum: [PROGRESS]
          description: "과제 상태 필터 (PROGRESS 입력 시 마감기한이 지나지 않은 과제만 조회)"
        - in: query
          name: sort
          schema:
            type: string
            enum: [PROGRESSRATE, DEADLINE, PRIORITY]
          description: 정렬 기준 (진척도순, 마감임박순, 우선순위순)
      responses:
        '200':
          description: 과제 목록 조회 성공
          content:
            application/json:
                example:
                  resultType: "SUCCESS"
                  message: "서버가 요청을 성공적으로 처리하였습니다."
                  data:
                    # ✅ 변경된 구조: task와 subTask로 분리
                    task:
                      - taskId: 13
                        folderId: 2
                        foldercolor: "#111111"
                        folderTitle: "프로그래밍"
                        priority: 1
                        status: "PENDING"
                        title: "데이터베이스 설계 프로젝트 (수정본)"
                        type: "PERSONAL"
                        deadline: "2026.06.30"
                        dDay: "D-140"
                        progressRate: 33
                      - taskId: 5
                        folderId: null
                        foldercolor: "값 없음"
                        folderTitle: "미지정"
                        priority: 2
                        status: "PENDING"
                        title: "자바 Swing 과제 제출"
                        type: "PERSONAL"
                        deadline: "2026.05.10"
                        dDay: "D-89"
                        progressRate: 0
                    subTask:
                      - subTaskId: 101
                        taskId: 13
                        title: "DB 스키마 설계"
                        status: "COMPLETED"
                        deadline: "2026.06.20"
                      - subTaskId: 102
                        taskId: 13
                        title: "API 명세서 작성"
                        status: "PENDING"
                        deadline: "2026.06.25"
        '401':
          description: 인증 실패 (로그인 필요)
        '500':
          description: 서버 내부 오류

  # 과제 상세 조회
  /api/v1/task/{taskId}:
    get:
      tags:
        - Task
      summary: 과제 상세 정보 조회
      description: 특정 과제의 세부 태스크, 진행률, 폴더 정보, 댓글 목록 및 회의록/자료의 전체 데이터를 조회합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: taskId
          required: true
          schema:
            type: integer
          example: 22
      responses:
        '200':
          description: 과제 상세 조회 성공
          content:
            application/json:
              example:
                resultType: "SUCCESS"
                message: "서버가 요청을 성공적으로 처리하였습니다."
                data:
                  taskId: 22
                  title: "소켓으로 수정한 제목"
                  folderId: 1
                  foldercolor: "#000000"
                  folderTitle: "학교"
                  status: "PROGRESS"
                  type: "TEAM"
                  deadline: "2026-12-31"
                  dDay: "D-324"
                  progressRate: 0
                  subTasks:
                    - subTaskId: 53
                      title: "실시간으로 추가된 세부과제"
                      deadline: "2026-05-30"
                      status: "PROGRESS"
                      isAlarm: true
                      commentCount: 0
                      comments: []
                      assigneeId: null
                      assigneeName: "PENDING"
                      assigneeProfileImage: null
                    - subTaskId: 54
                      title: "실시간으로 추가된 세부과제2"
                      deadline: "2026-05-30"
                      status: "PROGRESS"
                      isAlarm: true
                      commentCount: 1
                      comments:
                        - commentId: 1
                          content: "댓글1"
                          writer: "오소윤"
                          profileImage: "http://img1.kakaocdn.net/thumb/R640x640.q70/?fname=http://t1.kakaocdn.net/account_images/default_profile.jpeg"
                          createdAt: "2026-02-10T18:50:15.000Z"
                      assigneeId: 1
                      assigneeName: "오소윤"
                      assigneeProfileImage: "http://img1.kakaocdn.net/thumb/R640x640.q70/?fname=http://t1.kakaocdn.net/account_images/default_profile.jpeg"
                  communications:
                    - id: 1
                      taskId: 22
                      name: "커뮤니케이션1"
                      url: "https://example.com"
                      createdAt: "2026-02-10T19:00:07.000Z"
                      updatedAt: null
                  meetingLogs:
                    - id: 1
                      taskId: 22
                      date: "2026-02-10T00:00:00.000Z"
                      agenda: "agenda1"
                      conclusion: "conclusion1"
                      discussion: "discussion1"
                      createdAt: "2026-02-10T19:00:48.000Z"
                      updatedAt: null
                  references:
                    - id: 35
                      taskId: 22
                      name: "참고 문서 1"
                      url: "https://example.com"
                      fileUrl: null
                      createdAt: "2026-02-10T19:10:46.000Z"
                      updatedAt: null
        '401':
          description: 인증 실패
        '404':
          description: 과제를 찾을 수 없음
          content:
            application/json:
              example:
                resultType: "FAIL"
                code: 404
                errorCode: "과제를 찾을 수 없음"
                reason: "리소스를 찾을 수 없습니다."
                data: null
        '500':
          description: 서버 내부 오류
    
    # 과제 수정
    patch:
      tags:
        - Task
      summary: 과제 수정
      description: |
        과제 정보와 여러 개의 파일을 수정합니다.
        - **files**: 여러 개의 파일을 한꺼번에 선택할 수 있습니다.
        - **fileNames**: 업로드한 파일 순서대로 이름을 쉽표(,)로 구분해서 적어주세요. 
          (예: `보고서최종, 참고자료1`)
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: taskId
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          multipart/form-data: 
            schema:
              type: object
              properties:
                title:
                  type: string
                  example: "수정된 프로젝트 이름"
                deadline:
                  type: string
                  format: date
                  example: "2026-06-30"
                type:
                  type: string
                  enum: [TEAM, PERSONAL]
                  example: "TEAM"
                status:
                  type: string
                  enum: [PENDING, PROGRESS, COMPLETED]
                  example: "PROGRESS"
                folderId:
                  type: integer
                  example: 2
                subTasks:
                  type: string 
                  description: "세부 과제 배열 (JSON string)"
                  example: '[{"title": "세부과제 1", "endDate": "2026-05-10", "status": "COMPLETED", "isAlarm": true, "assigneeId": 5}]'
                references:
                  type: string 
                  description: "기존 유지할 자료 목록 (JSON string)"
                  example: '[{"name": "자료1", "url": "https://mariadb.org/documentation/"}]'
                fileNames:
                  type: string
                  description: "파일 원본 이름 대신 저장할 이름 (쉼표 구분)"
                  example: "과제발표자료, 참고도면"
                files:
                  type: array 
                  items:
                    type: string
                    format: binary 
                  description: "업로드할 파일들을 모두 선택하세요."
      responses:
        '200':
          description: 과제 수정 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: "SUCCESS"
                  message:
                    type: string
                    example: "요청이 처리되어서 새로운 과제가 생성되었습니다."
                  data:
                    type: object
                    properties:
                      taskId:
                        type: integer
                        example: 1
        '401':
          description: 인증 실패 (토큰 만료 또는 누락)
        '404':
          description: 존재하지 않는 폴더
          content:
            application/json:
              example:
                resultType: "FAIL"
                code: 404
                errorCode: "변경하려는 폴더가 존재하지 않습니다."
                reason: "리소스를 찾을 수 없습니다"
                data: null
          description: 존재하지 않는 과제
          content:
            application/json:
              example:
                resultType: "FAIL"
                code: 404
                errorCode: "수정하려는 과제가 존재하지 않습니다."
                reason: "리소스를 찾을 수 없습니다."
                data: null
        '500':
          description: 서버 내부 오류

    # 과제 삭제
    delete:
      tags:
        - Task
      summary: 과제 삭제
      description: 과제를 삭제합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: taskId
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 과제 삭제 성공
          content:
           application/json:
            schema:
              type: object
              properties:
                resultType:
                  type: string
                  example: "SUCCESS"
                message: 
                  type: string
                  example: "과제가 성공적으로 삭제되었습니다." 
                data:
                  type: null
                  example: null
        '401':
          description: 인증 실패
        '404':
          description: 과제를 찾을 수 없음
          content:
            application/json:
              example:
                resultType: "FAIL"
                code: 404
                errorCode: "삭제하려는 과제가 존재하지 않습니다."
                reason: "리소스를 찾을 수 없습니다"
                data: null
        '500':
          description: 서버 내부 오류

  # 과제 마감일 변경
  /api/v1/task/{taskId}/deadline:
    patch:
      tags:
        - Task
      summary: 과제 마감일 변경
      description: 과제의 마감일을 변경합니다. (Owner 권한 필요)
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: taskId
          required: true
          schema:
            type: integer
          description: 과제 ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - deadline
              properties:
                deadline:
                  type: string
                  format: date
                  example: "2026-06-30"
                  description: "변경할 마감일 (YYYY-MM-DD)"
      responses:
        '200':
          description: 과제 마감일 변경 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: "SUCCESS"
                  message:
                    type: string
                    example: "Task 마감일이 성공적으로 변경되었습니다."
                  data:
                    type: object
                    properties:
                      taskId:
                        type: integer
                        example: 1
                      deadline:
                        type: string
                        example: "2026-06-30T00:00:00.000Z"
        '400':
          description: 잘못된 요청 (날짜 형식 오류 또는 세부 과제 마감일 충돌)
          content:
            application/json:
              examples:
                invalidDate:
                  summary: 유효하지 않은 날짜 형식
                  value:
                    resultType: "FAIL"
                    error:
                      errorCode: "BAD_REQUEST"
                      reason: "유효하지 않은 날짜 형식입니다."
                      data: null
                dateConflict:
                  summary: 세부 과제 마감일 충돌
                  value:
                    resultType: "FAIL"
                    error:
                      errorCode: "BAD_REQUEST"
                      reason: "세부 과제의 마감일보다 이른 날짜로 변경할 수 없습니다."
                      data: null
        '401':
          description: 인증 실패
          content:
            application/json:
              example:
                resultType: "FAIL"
                error:
                  errorCode: "UNAUTHORIZED"
                  reason: "로그인이 필요합니다."
                  data: null
        '403':
          description: 권한 없음 (Owner가 아님)
          content:
            application/json:
              example:
                resultType: "FAIL"
                error:
                  errorCode: "FORBIDDEN"
                  reason: "과제 마감일을 수정할 권한이 없습니다."
                  data: null
        '404':
          description: 과제를 찾을 수 없음
          content:
            application/json:
              example:
                resultType: "FAIL"
                error:
                  errorCode: "NOT_FOUND"
                  reason: "존재하지 않는 과제입니다."
                  data: null
        '500':
          description: 서버 내부 오류
          content:
            application/json:
              example:
                resultType: "FAIL"
                error:
                  errorCode: "INTERNAL_SERVER_ERROR"
                  reason: "서버 내부 오류가 발생했습니다."
                  data: null

  # 우선순위 일괄 수정
  /api/v1/task/priority:
    patch:
      tags:
        - Task
      summary: 과제 우선순위 일괄 변경
      description: 드래그 앤 드롭으로 변경된 과제들의 순서를 일괄 저장합니다.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                orderedTasks:
                  type: array
                  items:
                    type: object
                    properties:
                      taskId:
                        type: integer
                      rank:
                        type: integer
      responses:
        '200':
          description: 우선순위 변경 성공
          content:
           application/json:
            schema:
              type: object
              properties:
                resultType:
                  type: string
                  example: "SUCCESS"
                message: 
                  type: string
                  example: "과제 우선순위가 일괄 변경되었습니다." 
                data:
                  type: null
                  example: null
        '400':
          description: 잘못된 요청 데이터
          content:
            application/json:
              example:
                resultType: "FAIL"
                code: 400
                errorCode: "BAD_REQUEST"
                reason: "orderedTasks 배열은 비어있을 수 없으며, taskId와 rank가 포함되어야 합니다."
        '401':
          description: 인증 실패
        '403':
          description: 권한 없음
          content:
            application/json:
              example:
                resultType: "FAIL"
                code: 403
                errorCode: "FORBIDDEN"
                reason: "본인의 과제가 아닌 항목의 우선순위는 변경할 수 없습니다."
        '404':
          description: 과제를 찾을 수 없음
          content:
            application/json:
              example:
                resultType: "FAIL"
                code: 404
                errorCode: "과제가 존재하지 않습니다."
                reason: "리소스를 찾을 수 없습니다."
                data: null
        '500':
          description: 서버 내부 오류 (트랜잭션 실패 등)
  
  # 세부 과제 생성
  /api/v1/task/{taskId}/subTask:
    post:
      tags:
        - Task
      summary: 단일 세부 과제 추가
      description: |
        특정 과제 내에 세부 과제를 하나 추가합니다.
        - 상태(status): PENDING 자동 지정
        - 담당자(assigneeId): 팀 과제는 NULL, 개인 과제는 본인 자동 지정
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: taskId
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [title, deadline]
              properties:
                title:
                  type: string
                  example: "세부과제1"
                deadline:
                  type: string
                  format: date
                  example: "2026-05-30"
                isAlarm:
                  type: boolean
                  example: true
      responses:
        '201':
          description: 생성 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: "SUCCESS"
                  message:
                    type: string
                    example: "세부 과제가 성공적으로 추가되었습니다."
                  data:
                    type: object
                    properties:
                      subTaskId:
                        type: integer
                        example: 105
                      title:
                        type: string
                        example: "세부과제1"
                      deadline:
                        type: string
                        example: "2026-05-30"
                      status:
                        type: string
                        example: "PENDING"
                      assigneeName:
                        type: string
                        example: "유저"
        '400':
          description: 마감일 설정 오류
          content:
            application/json:
              example:
                resultType: "FAIL"
                code: 400
                errorCode: "INVALID_DEADLINE"
                reason: "세부 과제의 마감일은 부모 과제의 마감일보다 늦을 수 없습니다."
        '404':
          description: 부모 과제를 찾을 수 없음
          content:
            application/json:
              example:
                resultType: "FAIL"
                code: 404
                errorCode: "존재하지 않는 과제입니다."
                reason: "리소스를 찾을 수 없습니다."
                data: null
        '500':
          description: 서버 내부 오류

  # 팀원 정보(역할) 수정
  /api/v1/task/{taskId}/member/{userId}:
    patch:
      tags:
        - Task
      summary: 팀원 역할 수정
      description: 팀원의 역할(관리자/일반)을 변경합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: taskId
          required: true
          schema:
            type: integer
        - in: path
          name: userId
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [taskId, userId, role]
              properties:
                taskId:
                  type: integer
                  example: 1
                userId:
                  type: integer
                  example: 5
                role:
                  type: integer
                  description: "0: 일반, 1: 관리자"
                  example: 1
      responses:
        '200':
          description: 역할 수정 성공
          content:
            application/json:
              schema:
              type: object
              properties:
                resultType:
                  type: string
                  example: "SUCCESS"
                message: 
                  type: string
                  example: "요청이 성공적으로 처리되었습니다."
                data:
                    type: object
                    properties:
                      memberId:
                        type: integer
                        example: 1
                      userid:
                        type: integer
                        example: 1
                      taskId:
                        type: integer
                        example: 1
                      role:
                        type: integer
                        example: 1
        '403':
          description: 권한 없음 (Owner만 수정 가능)
          content:
            application/json:
              example:
                resultType: "FAIL"
                code: 403
                errorCode: "FORBIDDEN"
                reason: "해당 과제의 관리자만 팀원 역할을 수정할 수 있습니다."
        '404':
          description: 멤버를 찾을 수 없음
          content:
            application/json:
              example:
                resultType: "FAIL"
                code: 404
                errorCode: "멤버를 찾을 수 없음"
                reason: "리소스를 찾을 수 없습니다."
                data: null


  # 팀원 초대 링크 생성
  /api/v1/task/{taskId}/invitation:
    post:
      tags:
        - Task
      summary: 팀원 초대 링크 생성
      description: 팀원을 초대하기 위한 초대 링크를 생성합니다. (과제 소유자만 가능)
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: taskId
          required: true
          schema:
            type: integer
          description: 초대 링크를 생성할 과제의 ID
      responses:
        '200':
          description: 초대 링크 생성 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: "SUCCESS"
                  message:
                    type: string
                    example: "초대 링크가 생성되었습니다."
                  data:
                    type: object
                    properties:
                      invite_code:
                        type: string
                        example: "ABC123"
                      invite_expired:
                        type: string
                        format: date-time
                        example: "2024-01-31T23:59:59.999Z"
        '400':
          description: |
            잘못된 요청
            - PERSONAL_TASK: 개인 과제는 초대 링크 생성이 불가능합니다.
        '403':
          description: |
            권한 없음
            - NOT_OWNER: 과제 소유자만 초대 링크를 생성할 수 있습니다.
        '404':
          description: |
            - TASK_NOT_FOUND: 과제를 찾을 수 없습니다.

  # 세부 TASK 상태 업데이트
  /api/v1/task/subtask/{subTaskId}/status:
    patch:
      tags:
        - Task
      summary: 세부 TASK 완료 상태 변경
      description: 세부 TASK의 완료 상태를 변경합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: subTaskId
          required: true
          schema:
            type: integer
          description: 상태를 변경할 세부 TASK ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - status
              properties:
                status:
                  type: string
                  enum: [COMPLETE, PENDING]
                  description: 변경할 상태 (COMPLETE 또는 PENDING)
                  example: "COMPLETE"
      responses:
        '200':
          description: 세부 TASK 상태 업데이트 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: "SUCCESS"
                  message:
                    type: string
                    example: "태스크 상태가 업데이트되었습니다."
                  data:
                    type: object
                    properties:
                      sub_task_id:
                        type: integer
                        example: 1
                      status:
                        type: string
                        example: "완료"
        '404':
          description: |
            - SUBTASK_NOT_FOUND: 해당하는 세부 태스크를 찾을 수 없습니다.
                      

  # 세부 TASK 마감일 변경
  /api/v1/task/subtask/{subTaskId}/deadline:
    patch:
      tags:
        - Task
      summary: 세부 TASK 마감일 변경
      description: 세부 TASK의 마감일을 변경합니다. 부모 Task의 마감일을 초과할 수 없습니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: subTaskId
          required: true
          schema:
            type: integer
          description: 마감일을 변경할 세부 TASK ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - endDate
              properties:
                endDate:
                  type: string
                  format: date
                  description: 변경할 마감일 (YYYY-MM-DD 형식)
                  example: "2026-01-31"
      responses:
        '200':
          description: 마감일 변경 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: "SUCCESS"
                  message:
                    type: string
                    example: "마감 기한이 변경되었습니다."
                  data:
                    type: object
                    properties:
                      sub_task_id:
                        type: integer
                        example: 1
                      end_date:
                        type: string
                        format: date
                        example: "2026-01-31"
        '400':
          description: |
            - INVALID_DEADLINE: 부모 Task의 마감일을 초과할 수 없습니다.
        '404':
          description: |
            - SUBTASK_NOT_FOUND: 해당하는 세부 태스크를 찾을 수 없습니다.

  # 세부 TASK 담당자 설정
  /api/v1/task/subtask/{subTaskId}/assignee:
    patch:
      tags:
        - Task
      summary: 세부 TASK 담당자 설정
      description: 세부 TASK의 담당자를 설정합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: subTaskId
          required: true
          schema:
            type: integer
          description: 담당자를 설정할 세부 TASK ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - assigneeId
              properties:
                assigneeId:
                  type: integer
                  description: 담당자로 지정할 사용자 ID
                  example: 5
      responses:
        '200':
          description: 담당자 설정 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: "SUCCESS"
                  message:
                    type: string
                    example: "담당자가 지정되었습니다."
                  data:
                    type: object
                    properties:
                      sub_task_id:
                        type: integer
                        example: 10
                      assignee_id:
                        type: integer
                        example: 5

        '404':
          description: |
            - SUBTASK_NOT_FOUND: 해당하는 세부 태스크를 찾을 수 없습니다.
            - USER_NOT_FOUND: 지정된 사용자를 찾을 수 없습니다.
        '500':
          description: |
            - INTERNAL_SERVER_ERROR: 서버 오류가 발생했습니다.

  # 초대 코드로 팀 참여
  /api/v1/task/join:
    post:
      tags:
        - Task
      summary: 초대 코드로 팀 참여
      description: 초대 코드를 사용하여 팀 과제에 참여합니다.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - inviteCode
              properties:
                inviteCode:
                  type: string
                  description: 팀 과제 초대 코드
                  example: "ABC12345"
      responses:
        '200':
          description: 팀 참여 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: "SUCCESS"
                  message:
                    type: string
                    example: "팀에 성공적으로 참여했습니다."
                  data:
                    type: object
                    properties:
                      task_id:
                        type: integer
                        description: 참여한 과제 ID
                        example: 1
                      task_title:
                        type: string
                        description: 참여한 과제 제목
                        example: "팀 프로젝트 개발"
                      member_id:
                        type: integer
                        description: 생성된 멤버 ID
                        example: 5
        '403':
          description: |
            - EXPIRED_INVITE_CODE: 만료된 초대 코드입니다.
            - ALREADY_MEMBER: 이미 팀 멤버입니다.
          content:
              application/json:
                schema:
                  type: object
                  example:
                    resultType: "FAIL"
                    code: 403
                    errorCode: "EXPIRED_INVITE_CODE | ALREADY_MEMBER"
                    reason: "만료된 초대 코드입니다. | 이미 팀 멤버입니다."
                    data: null
        '404':
          description: |
            - INVALID_INVITE_CODE: 유효하지 않은 초대 코드입니다.
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 404
                  errorCode: "INVALID_INVITE_CODE"
                  reason: "유효하지 않은 초대 코드입니다."
                  data: null
  # -- 팀원 API --
  # 특정 과제의 팀원 목록 조회
  /api/v1/task/{taskId}/members:
    get:
      tags:
        - Task
      summary: 특정 과제의 팀원 목록 조회
      description: 특정 과제에 속한 팀원들의 목록을 조회합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: taskId
          required: true
          schema:
            type: integer
          description: 팀원 목록을 조회할 과제의 ID
      responses:
        '200':
          description: 팀원 목록 조회 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: "SUCCESS"
                  message:
                    type: string
                    example: "팀원 목록 조회에 성공했습니다."
                  data:
                    type: object
                    properties:
                      members:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: integer
                              description: 사용자 ID
                              example: 1
                            profileImage:
                              type: string
                              description: 프로필 이미지 URL
                              example: "https://example.com/profile.jpg"
                            nickname:
                              type: string
                              description: 사용자 닉네임
                              example: "홍길동"
                            role:
                              type: string
                              enum: [owner, member]
                              description: 팀원 역할 (owner 또는 member)
                              example: "owner"
                      count:
                        type: integer
                        example: 3
        '401':
          description: 인증 실패
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: "FAIL"
                  code:
                    type: integer
                    example: 401
                  errorCode:
                    type: string
                    example: "TOKEN_INVALID"
                  reason:
                    type: string
                    example: "토큰이 유효하지 않습니다."
                  data:
                    type: "null"
        '403':
          description: 권한 없음
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 403
                  errorCode: "FORBIDDEN"
                  reason: "해당 작업을 수행할 권한이 없습니다."
                  data: null
        '404':
          description: 과제를 찾을 수 없음
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 404
                  errorCode: "TASK_NOT_FOUND"
                  reason: "해당하는 과제를 찾을 수 없습니다."
                  data: null
        '500':
          description: 서버 내부 오류
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 500
                  errorCode: "INTERNAL_SERVER_ERROR"
                  reason: "서버 내부 오류가 발생했습니다."
                  data: null


  # 댓글 관련 API
  /api/v1/task/subtask/{subTaskId}/comments:
    post:
      tags:
        - Comment
      summary: 댓글 생성
      description: 세부 TASK에 새로운 댓글을 생성합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: subTaskId
          required: true
          schema:
            type: integer
          description: 댓글을 작성할 세부 TASK ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - user_id              
                - content
              properties:
                user_id:
                  type: integer
                  description: 댓글 작성자 ID
                  example: 1
                content:
                  type: string
                  description: 댓글 내용
                  example: "세팅은 제가 할게요!"
                
      responses:
        '200':
          description: 댓글 생성 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: "SUCCESS"
                  message:
                    type: string
                    example: "댓글이 등록되었습니다."
                  data:
                    type: object
                    properties:
                      comment_id:
                        type: integer
                        example: 1
                      sub_task_id:
                        type: integer
                        example: 10
                      content:
                        type: string
                        example: "확인했습니다."
                      created_at:
                        type: string
                        format: date-time
                        example: "2024-01-25T08:30:00.000Z"

        '404':
          description: |
            - SUBTASK_NOT_FOUND: 해당하는 세부 태스크를 찾을 수 없습니다.
            - USER_NOT_FOUND: 사용자를 찾을 수 없습니다.


  /api/v1/task/comment/{commentId}:
    patch:
      tags:
        - Comment
      summary: 댓글 수정
      description: 기존 댓글을 수정합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: commentId
          required: true
          schema:
            type: integer
          description: 수정할 댓글 ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - content
              properties:
                content:
                  type: string
                  description: 수정할 댓글 내용
                  example: "수정된 댓글 내용입니다."
      responses:
        '200':
          description: 댓글 수정 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: "SUCCESS"
                  message:
                    type: string
                    example: "댓글이 수정되었습니다."
                  data:
                    type: object
                    properties:
                      comment_id:
                        type: integer
                        example: 1
                      content:
                        type: string
                        example: "수정된 댓글 내용입니다."

        '403':
          description: |
            - PERMISSION_DENIED: 댓글 수정 권한이 없습니다.
        '404':
          description: |
            - COMMENT_NOT_FOUND: 댓글을 찾을 수 없습니다.
        '500':
          description: |
            - INTERNAL_SERVER_ERROR: 서버 오류가 발생했습니다.

    delete:
      tags:
        - Comment
      summary: 댓글 삭제
      description: 댓글을 삭제합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: commentId
          required: true
          schema:
            type: integer
          description: 삭제할 댓글 ID
      responses:
        '200':
          description: 댓글 삭제 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: "SUCCESS"
                  message:
                    type: string
                    example: "댓글이 삭제되었습니다."
                  data:
                    type: "null"
                    example: null

        '403':
          description: |
            - FORBIDDEN: 삭제 권한이 없습니다.
        '404':
          description: |
            - COMMENT_NOT_FOUND: 댓글을 찾을 수 없습니다.
        '500':
          description: |
            - INTERNAL_SERVER_ERROR: 서버 내부 오류가 발생했습니다.

  # 유저 정보 조회 API
  /api/v1/user/me:
    get:
      tags:
        - User
      summary: 내 정보 조회
      description: 로그인한 사용자의 정보를 조회합니다.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: 조회 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: "SUCCESS"
                  message:
                    type: string
                    example: "내 정보 조회 성공"
                  data:
                    type: object
                    properties:
                      userId:
                        type: integer
                        example: 1
                      nickname:
                        type: string
                        example: "준우"
                      phoneNum:
                        type: string
                        example: "010-6641-2771"
                      email:
                        type: string
                        example: "checktask@tukorea.ac.kr"
                      profileImage:
                        type: string
                        example: "https://checktask.s3.ap-northeast-2.amazonaws.com/profile/1769334594965-S3TEST.jpg"
                      deadlineAlarm:
                        type: integer
                        example: 24
                      taskAlarm:
                        type: integer
                        example: 24
                      folders:
                        type: array
                        items:
                          type: object
                          properties:
                            folderId:
                              type: integer
                              example: 101
                            folderTitle:
                              type: string
                              example: "프로그래밍"
                            color:
                              type: string
                              example: "#000000"
        '400':
          description: |
            - BAD_REQUEST: 토큰이 형식에 맞지 않음.      
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 400
                  errorCode: "BAD_REQUEST"
                  reason: "인증 토큰이 형식에 맞지 않습니다."
                  data: null
        '401':
          description: |
            - TOKEN_NOT_FOUND: 인증 토큰이 없음.
            - TOKEN_INVALID: 토큰이 유효하지 않음.
            - TOKEN_EXPIRED: 토큰이 만료됨.            
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 401
                  errorCode: "TOKEN_NOT_FOUND | TOKEN_INVALID | TOKEN_EXPIRED"
                  reason: "인증 토큰이 없습니다. | 토큰이 유효하지 않습니다. | 토큰이 만료되었습니다."
                  data: null   
        '404':
          description: |
            - USER_NOT_FOUND: 해당 사용자를 찾을 수 없음.
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 404
                  errorCode: "USER_NOT_FOUND"
                  reason: "해당 사용자를 찾을 수 없습니다."
                  data: null
        '500':
          description: |
            - INTERNAL_SERVER_ERROR: 서버 내부 오류 발생.
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 500
                  errorCode: "INTERNAL_SERVER_ERROR"
                  reason: "서버 내부 오류가 발생했습니다."
                  data: null

  # 유저 정보 수정 API
  /api/v1/user/profile:
    patch:
      tags:
        - User
      summary: 프로필 수정
      description: 프로필 이미지, 닉네임, 연락처, 이메일을 수정합니다.
      security:
        - bearerAuth: []
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                nickname:
                  type: string
                  example: "페이커"
                phoneNum:  
                  type: string
                  example: "010-1234-5678"
                email:     
                  type: string
                  example: "checktask@ct.kr"
                image:
                  type: string
                  format: binary
      responses:
        '200':
          description: 수정 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: "SUCCESS"
                  message:
                    type: string
                    example: "프로필 수정 성공"
                  data:
                    type: object
                    properties:
                      userId:
                        type: integer
                        example: 1
                      nickname:
                        type: string
                        example: "페이커"
                      phoneNum:
                        type: string
                        example: "010-1234-5678"
                      email:
                        type: string
                        example: "checktask@ct.kr"
                      profileImage:
                        type: string
                        example: "https://checktask.s3.ap-northeast-2.amazonaws.com/profile/1769334594965-S3TEST.jpg"
                      updatedAt:
                        type: string
                        example: "2026-01-26T23:30:00"
        '400':
          description: |
            - INVALID_NICKNAME: 닉네임 수정 에러.
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 400
                  errorCode: "INVALID_NICKNAME"
                  reason: "닉네임은 최대 100자까지만 가능합니다."
                  data: null                      
        '401':
          description: |
            - TOKEN_NOT_FOUND: 인증 토큰이 없음.
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 401
                  errorCode: "TOKEN_NOT_FOUND"
                  reason: "인증 토큰이 없습니다."
                  data: null
        '404':
          description: |
            - USER_NOT_FOUND: 해당 사용자를 찾을 수 없음.
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 404
                  errorCode: "USER_NOT_FOUND"
                  reason: "해당 사용자를 찾을 수 없습니다."
                  data: null
        '500':
          description: |
            - INTERNAL_SERVER_ERROR: 서버 내부 오류 발생.
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 500
                  errorCode: "INTERNAL_SERVER_ERROR"
                  reason: "서버 내부 오류가 발생했습니다."
                  data: null

  # 폴더 생성 API
  /api/v1/user/folder:
    post:
      tags:
        - Folder
      summary: 폴더 생성
      description: 새로운 폴더를 생성합니다.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - folderTitle
              properties:
                folderTitle:
                  type: string
                  example: "프로그래밍"
                color:
                  type: string
                  example: "#FF5733"
      responses:
        '200':
          description: 생성 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: "SUCCESS"
                  message:
                    type: string
                    example: "폴더 생성 성공"
                  data:
                    type: object
                    properties:
                      folderId:
                        type: integer
                        example: 10
                      userId:
                        type: integer
                        example: 15
                      folderTitle:
                        type: string
                        example: "프로그래밍"
                      color:
                        type: string
                        example: "#FF5733"
        '400':
          description: |
            - BAD_REQUEST: 토큰이 형식에 맞지 않음.
            - INVALID_INPUT_VALUE: 폴더명이 비어있을 때.
            - INVALID_FOLDER_TITLE: 폴더 이름이 길 때.
            - COLOR_REQUIRED: 색상이 입력되지 않음.
            - INVALID_COLOR: 색상 형식이 올바르지 않음 (#123456 형식 아님).
            - MAX_FOLDER_LIMIT: 폴더 개수 5개 초과.
            - DUPLICATE_COLOR: 이미 사용 중인 색상.
            - DUPLICATE_NAME: 이미 사용 중인 폴더 이름.
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 400
                  errorCode: "BAD_REQUEST | INVALID_INPUT_VALUE | INVALID_FOLDER_TITLE | COLOR_REQUIRED | INVALID_COLOR | MAX_FOLDER_LIMIT | DUPLICATE_COLOR | DUPLICATE_NAME"
                  reason: "인증 토큰이 형식에 맞지 않습니다. | 폴더 이름은 필수입니다. | 폴더 이름은 최대 11자까지만 가능합니다. | 색상은 필수 입력 사항입니다. | 색상은 #을 포함한 7자리 Hex 코드여야 합니다. | 폴더는 최대 5개까지만 생성할 수 있습니다. | 이미 사용 중인 색상입니다. | 이미 존재하는 폴더 이름입니다."
                  data: null
        '401':
          description: |
            - TOKEN_NOT_FOUND: 인증 토큰이 없음.
            - TOKEN_INVALID: 토큰이 유효하지 않음.
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 401
                  errorCode: "TOKEN_NOT_FOUND | TOKEN_INVALID"
                  reason: "인증 토큰이 없습니다. | 토큰이 유효하지 않습니다."
                  data: null
        '500':
          description: |
            - INTERNAL_SERVER_ERROR: 서버 내부 오류 발생.
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 500
                  errorCode: "INTERNAL_SERVER_ERROR"
                  reason: "서버 내부 오류가 발생했습니다."
                  data: null                                                                         

  # 폴더 수정 API
  /api/v1/user/folder/{folderId}:
    patch:
      tags:
        - Folder
      summary: 폴더 수정
      description: 폴더의 이름이나 색상을 수정합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: folderId
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                folderTitle:
                  type: string
                  example: "프로그래밍"
                color:
                  type: string
                  example: "#123456"
      responses:
        '200':
          description: 수정 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: "SUCCESS"
                  message:
                    type: string
                    example: "폴더 수정 성공"
                  data:
                    type: object
                    properties:
                      folderId:
                        type: integer
                        example: 10
                      userId:
                        type: integer
                        example: 15
                      folderTitle:
                        type: string
                        example: "프로그래밍"
                      color:
                        type: string
                        example: "#123456"
        '400':
          description: |
            - BAD_REQUEST: 토큰이 형식에 맞지 않음. 
            - INVALID_FOLDER_TITLE: 폴더 이름이 길 때.     
            - INVALID_COLOR: 색상 형식이 올바르지 않음.
            - DUPLICATE_COLOR: 이미 사용 중인 색상으로 변경 시도.
            - PROTECTED_FOLDER: '팀' 폴더를 수정하려고 시도함.
            - DUPLICATE_NAME: 이미 사용 중인 폴더 이름으로 변경 시도.
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 400
                  errorCode: "BAD_REQUEST | INVALID_FOLDER_TITLE | INVALID_COLOR | DUPLICATE_COLOR | PROTECTED_FOLDER | DUPLICATE_NAME"
                  reason: "인증 토큰이 형식에 맞지 않습니다. | 폴더 이름은 최대 11자까지만 가능합니다. | 색상 형식이 올바르지 않습니다. | 이미 사용 중인 색상입니다. | '팀' 폴더는 수정할 수 없습니다. | 이미 존재하는 폴더 이름입니다."
                  data: null     
        '401':
          description: |
            - TOKEN_NOT_FOUND: 인증 토큰이 없음.
            - TOKEN_INVALID: 토큰이 유효하지 않음.
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 401
                  errorCode: "TOKEN_NOT_FOUND | TOKEN_INVALID"
                  reason: "인증 토큰이 없습니다. | 토큰이 유효하지 않습니다."
                  data: null   
        '403':
          description: |
            - FORBIDDEN: 수정 권한이 없음.
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 403
                  errorCode: "FORBIDDEN"
                  reason: "수정 권한이 없습니다."
                  data: null 
        '404':
          description: |
            - FOLDER_NOT_FOUND: 해당 폴더를 찾을 수 없을 때.
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 404
                  errorCode: "FOLDER_NOT_FOUND"
                  reason: "해당 폴더를 찾을 수 없습니다."
                  data: null      
        '500':
          description: |
            - INTERNAL_SERVER_ERROR: 서버 내부 오류 발생.
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 500
                  errorCode: "INTERNAL_SERVER_ERROR"
                  reason: "서버 내부 오류가 발생했습니다."
                  data: null                                                                             
        
  # 폴더 삭제 API
    delete:
      tags:
        - Folder
      summary: 폴더 삭제
      description: 폴더를 삭제합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: folderId
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 삭제 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: "SUCCESS"
                  message:
                    type: string
                    example: "폴더 삭제 성공"
                  data:
                    type: object
                    nullable: true
                    example: null
        '400':
          description: 잘못된 요청 (보호된 폴더 삭제 시도)
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 400
                  errorCode: "PROTECTED_FOLDER"
                  reason: "'팀' 폴더는 삭제할 수 없습니다."
                  data: null
        '401':
          description: |
            - TOKEN_NOT_FOUND: 인증 토큰이 없음.      
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 401
                  errorCode: "TOKEN_NOT_FOUND"
                  reason: "인증 토큰이 없습니다."
                  data: null                 
        
        '403':
          description: |
            - FORBIDDEN: 삭제 권한이 없음.
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 403
                  errorCode: "FORBIDDEN"
                  reason: "삭제 권한이 없습니다."
                  data: null
        '404':
          description: |
            - FOLDER_NOT_FOUND: 해당 폴더를 찾을 수 없을 때.
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 404
                  errorCode: "FOLDER_NOT_FOUND"
                  reason: "해당 폴더를 찾을 수 없습니다."
                  data: null      
        '500':
          description: |
            - INTERNAL_SERVER_ERROR: 서버 내부 오류 발생.
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 500
                  errorCode: "INTERNAL_SERVER_ERROR"
                  reason: "서버 내부 오류가 발생했습니다."
                  data: null                

  #완료 과제 조회 API  
  /api/v1/task/completed:
    get:
      tags:
        - Task
      summary: 완료된 과제 조회
      description: |
        마감일이 지난 과제를 조회합니다.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: 조회 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: "SUCCESS"
                  message:
                    type: string
                    example: "완료된 과제 조회에 성공하였습니다."
                  data:
                    type: object
                    properties:
                      tasks:
                        type: array
                        items:
                          type: object
                          properties:
                            taskId:
                              type: integer
                              example: 15
                            title:
                              type: string
                              example: "자료구조 과제"
                            deadline:
                              type: string
                              example: "2025-11-19"
                              description: "과제 마감일"
                            type:
                              type: string
                              example: "개인"
                            status:
                              type: string
                              example: "완료"
                            folderId:
                              type: integer
                              nullable: true
                              example: 101
                            folderTitle:
                              type: string
                              nullable: true
                              example: "프로그래밍"
                            color:
                              type: string
                              nullable: true
                              example: "#FF5733"
        '401':
          description: |
            - TOKEN_NOT_FOUND: 인증 토큰이 없음.
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 401
                  errorCode: "TOKEN_NOT_FOUND"
                  reason: "인증 토큰이 없습니다."
                  data: null
        '404':
          description: |
            - USER_NOT_FOUND: 해당 사용자를 찾을 수 없을 때.
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 404
                  errorCode: "USER_NOT_FOUND"
                  reason: "해당 사용자를 찾을 수 없습니다."
                  data: null
        '500':
          description: |
            - INTERNAL_SERVER_ERROR: 서버 내부 오류 발생.       
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 500
                  errorCode: "INTERNAL_SERVER_ERROR"
                  reason: "서버 내부 오류가 발생했습니다."
                  data: null
                                 
  # 카카오 로그인
  /api/v1/auth/kakao:
    get:
      tags:
        - Kakao Auth
      summary: 카카오 연동하기
      description: |
        카카오 OAuth를 통해 로그인/회원가입을 진행합니다. 
        해당 API는 JSON 응답을 반환하지 않으며,
        브라우저를 카카오 로그인 페이지로 리다이렉트됩니다.
      parameters:
      - in: query
        name: state
        required: false
        schema:
          type: string
          enum: [local, prod]
        description: |
          프론트 환경 구분값
          - local: 로컬 프론트
          - prod: 배포 프론트
      responses:
        '302':
          description: 카카오 로그인 페이지로 리다이렉트
        '400':
          description: 잘못된 요청 (허용 되지 않는 state 값)
        '500':
          description: 서버 내부 오류
  
  # 카카오 로그인 콜백
  /api/v1/auth/kakao/callback:
    get:
      tags:
        - Kakao Auth
      summary: 카카오 로그인 콜백
      description: |
        카카오 로그인 완료 후 호출되는 콜백 API입니다.

        해당 엔드포인트는 1회성 OAuth 트랜잭션을 처리하며,
        카카오 인증 정보를 기반으로 로그인 또는 회원가입을 수행합니다.
        
        로그인 처리 성공 시 Refresh Token을 HttpOnly Cookie로 설정한 뒤,
        프론트엔드 콜백 페이지로 리다이렉트됩니다.

        - 사용자가 직접 호출하거나 브라우저에서 새로고침하면 에러 처리
        - 동일한 authorization code로 재요청 시 에러가 발생하도록 처리
      parameters:
        - in: query
          name: code
          required: true
          schema:
            type: string
          description: 카카오 OAuth 인가 코드 (passport-kakao에서 내부 처리)
        - in: query
          name: state
          required: false
          schema:
            type: string
            enum: [local, prod]
          description: |
            프론트 환경 구분값
            - local: 로컬 프론트
            - prod: 배포 프론트
      responses:
        '302':
          description: 카카오 로그인 성공 후 프론트엔드로 리다이렉트
          headers:
            Set-Cookie:
              description: Refresh Token (HttpOnly)
              schema:
                type: string
            Location:
              description: 프론트엔드 리다이렉트 URL
              schema:
                type: string
        
        '400':
          description: 잘못된 요청
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: FAIL
                  code:
                    type: integer
                    example: 400
                  errorCode:
                    type: string
                    example: INVALID_STATE
                  reason:
                    type: string
                    example: 잘못된 state값을 입력했습니다.
                  data:
                    type: "null"
                    example: null
              example:
                INVALID_STATE:
                  summary: 잘못된 state 값
                  value:
                    resultType: FAIL
                    code: 400
                    errorCode: INVALID_STATE
                    reason: 잘못된 state값을 입력했습니다.
                    data: null
                INVALID_KAKAO_CALLBACK:
                  summary: 카카오 인증 코드 누락
                  value:
                    resultType: FAIL
                    code: 400
                    errorCode: INVALID_KAKAO_CALLBACK
                    reason: 카카오 인증 코드가 존재하지 않습니다.
                    data: null
                DUPLICATED_CALLBACK:
                  summary: 중복 처리된 카카오 콜백
                  value:
                    resultType: FAIL
                    code: 400
                    errorCode: DUPLICATED_CALLBACK
                    reason: 이미 처리된 카카오 콜백입니다.
                    data: null
        '401':
          description: 카카오 인증 실패
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: FAIL
                  code:
                    type: integer
                    example: 401
                  errorCode:
                    type: string
                    example: KAKAO_AUTH_FAILED
                  reason:
                    type: string
                    example: 카카오 인증에 실패하였습니다.
                  data:
                    type: "null"
                    example: null
        '500':
          description: 서버 내부 오류
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: FAIL
                  code:
                    type: integer
                    example: 500
                  errorCode:
                    type: string
                    example: INTERNAL_SERVER_ERROR
                  reason:
                    type: string
                    example: 서버 내부 오류가 발생했습니다.
                  data:
                    type: "null"
                    example: null
  
  # 카카오 로그아웃
  /api/v1/auth/logout:
    post:
      tags:
        - Kakao Auth
      summary: 카카오 로그아웃
      description: |
        카카오 OAuth를 통해 로그인한 사용자의 로그아웃을 처리합니다.
        Refresh Token을 폐기하여 이후 Access Token 재발급을 차단합니다.

        해당 API는 Access Token 인증을 사용하지 않으며,
        Refresh Token이 없거나 만료된 경우에도 로그아웃은 성공 처리됩니다.
      requestBody:
        required: false
      responses:
        '200':
          description: 로그아웃 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: "SUCCESS"
                  message:
                    type: string
                    example: "카카오 로그아웃이 완료되었습니다."
                  data:
                    type: "null"
                    example: null

        '500':
          description: 서버 내부 오류
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 500
                  errorCode: "INTERNAL_SERVER_ERROR"
                  reason: "서버 내부 오류가 발생했습니다"
                  data: null
  
  #카카오 회원 탈퇴
  /api/v1/auth/kakao/unlink:
    delete:
      tags:
        - Kakao Auth
      summary: 카카오 회원탈퇴
      description: |
        카카오 OAuth를 통해 로그인한 사용자의 카카오 계정과 서비스 간 연결을 해제하고,
        서비스 DB에서 해당 사용자의 deleted_at을 업데이트합니다.
      security:
        - bearerAuth: []
      requestBody:
        required: false
      responses:
        '200':
          description: 회원 탈퇴 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: "SUCCESS"
                  message:
                    type: string
                    example: "카카오 회원 탈퇴가 완료되었습니다."
                  data:
                    type: "null"
                    example: null

        '400':
          description: |
            - INVALID_USER: 유효하지 않은 사용자
            - ALREADY_WITHDRAWN: 이미 탈퇴 처리된 사용자
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 400
                  errorCode: "INVALID_USER | ALREADY_WITHDRAWN"
                  reason: "유효하지 않은 사용자입니다. | 이미 탈퇴 처리된 사용자입니다."
                  data: null

        '401':
          description: |
            - UNAUTHORIZED: 인증 정보 없음 또는 유효하지 않은 토큰
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 401
                  errorCode: "UNAUTHORIZED"
                  reason: "인증 정보가 없습니다"
                  data: null

        '500':
          description: |
            - USER_WITHDRAW_FAILED: 회원 탈퇴 처리 중 오류
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 500
                  errorCode: "USER_WITHDRAW_FAILED"
                  reason: "회원 탈퇴 처리 중 오류가 발생했습니다"
                  data: null
  
  # Access Token 재발급
  /api/v1/auth/refresh:
    post:
      tags:
        - Kakao Auth
      summary: Access Token 재발급
      description: |
        HttpOnly Cookie에 저장된 Refresh Token을 사용하여 새로운 Access Token을 발급합니다.
        해당 API는 Access Token 인증을 사용하지 않으며,
        Refresh Token이 유효한 경우에만 Access Token을 재발급합니다.
      requestBody:
        required: false
      responses:
        '200':
          description: Access Token 재발급 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  resultType:
                    type: string
                    example: "SUCCESS"
                  data:
                    type: object
                    properties:
                      accessToken:
                        type: string
                        example: "jwt_access_token"
                      accessTokenExpireIn:
                        type: integer
                        example: 3600
        '401':
          description: Refresh Token이 전달되지 않은 경우
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 401
                  errorCode: "UNAUTHORIZED"
                  reason: "Refresh Token이 없습니다."
                  data: null
        '400':
          description: 유효하지 않거나 만료된 Refresh Token
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 400
                  errorCode: "INVALID_REFRESH_TOKEN"
                  reason: "유효하지 않은 토큰입니다."
                  data: null
        '500':
          description: 서버 내부 오류
          content:
            application/json:
              schema:
                type: object
                example:
                  resultType: "FAIL"
                  code: 500
                  errorCode: "INTERNAL_SERVER_ERROR"
                  reason: "서버 내부 오류가 발생했습니다."
                  data: null
  
  # -- 자료 API --
  # 자료 생성 (파일 업로드)
  /api/v1/reference/data/{taskId}:
    post:
      tags:
        - Reference
      summary: 자료 생성
      description: 과제에 자료를 추가합니다. (파일 업로드 또는 URL 추가)
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: taskId
          required: true
          schema:
            type: integer
          description: 과제 ID
        - in: query
          name: type
          required: true
          schema:
            type: string
            enum: [file, url]
          description: 자료 타입 (file 또는 url)
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 자료 이름 (파일인 경우 선택, URL인 경우 필수)
                url:
                  type: string
                  description: URL (type=url일 때 필수)
                file_url:
                  type: string
                  format: binary
                  description: 파일 (type=file일 때 필수)
      responses:
        '200':
          description: 자료 생성 성공 (해당 과제의 전체 자료 목록 반환)
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 200
                  isSuccess:
                    type: boolean
                    example: true
                  code:
                    type: string
                    example: "COMMON200"
                  message:
                    type: string
                    example: "자료 생성 성공"
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        reference_id:
                          type: integer
                          example: 1
                        name:
                          type: string
                          example: "프로젝트 자료"
                        url:
                          type: string
                          nullable: true
                          example: "https://example.com"
                        file_url:
                          type: string
                          nullable: true
                          example: "https://s3.amazonaws.com/..."
                    example:
                      - reference_id: 1
                        name: "기존 자료 1"
                        url: "https://example1.com"
                        file_url: null                   
                      - reference_id: 2
                        name: "새로 추가된 자료"
                        url: null
                        file_url: "https://s3.amazonaws.com/..."                     
        '400':
          description: 잘못된 요청 (필수 필드 누락, 타입 오류 등)
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 400
                  isSuccess:
                    type: boolean
                    example: false
                  code:
                    type: string
                    example: "COMMON400"
                  message:
                    type: string
                    example: "url은 필수입니다."
        '401':
          description: 인증 실패
        '403':
          description: 권한 없음
        '404':
          description: 과제를 찾을 수 없음

  # 자료 수정
  /api/v1/reference/data/{taskId}/{referenceId}:
    patch:
      tags:
        - Reference
      summary: 자료 수정
      description: 과제의 자료를 수정합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: taskId
          required: true
          schema:
            type: integer
          description: 과제 ID
        - in: path
          name: referenceId
          required: true
          schema:
            type: integer
          description: 자료 ID
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 자료 이름
                url:
                  type: string
                  description: URL
                file_url:
                  type: string
                  format: binary
                  description: 파일 (선택)
      responses:
        '200':
          description: 자료 수정 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 200
                  isSuccess:
                    type: boolean
                    example: true
                  code:
                    type: string
                    example: "COMMON200"
                  message:
                    type: string
                    example: "자료 수정 성공"
                  data:
                    type: object
                    properties:
                      reference_id:
                        type: integer
                        example: 1
                      task_id:
                        type: integer
                        example: 1
                      name:
                        type: string
                        example: "수정된 자료 이름"
                      url:
                        type: string
                        nullable: true
                        example: "https://updated-example.com"
                      file_url:
                        type: string
                        nullable: true
                        example: "https://s3.amazonaws.com/..."
                      updated_at:
                        type: string
                        format: date-time
                        example: "2026-01-28T11:00:00Z"
        '400':
          description: 잘못된 요청
        '401':
          description: 인증 실패
        '403':
          description: 권한 없음
        '404':
          description: 자료를 찾을 수 없음

    delete:
      tags:
        - Reference
      summary: 자료 삭제
      description: 과제의 자료를 삭제합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: taskId
          required: true
          schema:
            type: integer
          description: 과제 ID
        - in: path
          name: referenceId
          required: true
          schema:
            type: integer
          description: 자료 ID
      responses:
        '200':
          description: 자료 삭제 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 200
                  isSuccess:
                    type: boolean
                    example: true
                  code:
                    type: string
                    example: "COMMON200"
                  message:
                    type: string
                    example: "자료 삭제 성공"
                  data:
                    type: object
                    nullable: true
                    example: null
        '400':
          description: 잘못된 요청
        '401':
          description: 인증 실패
        '403':
          description: 권한 없음
        '404':
          description: 자료를 찾을 수 없음

  # -- 커뮤니케이션 API --
  # 커뮤니케이션 생성
  /api/v1/reference/communication/{taskId}:
    post:
      tags:
        - Reference
      summary: 커뮤니케이션 생성
      description: 과제에 커뮤니케이션 링크를 추가합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: taskId
          required: true
          schema:
            type: integer
          description: 과제 ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - url
              properties:
                name:
                  type: string
                  description: 커뮤니케이션 이름
                url:
                  type: string
                  description: 커뮤니케이션 URL
              example:
                name: "팀 슬랙 채널"
                url: "https://slack.com/channel/..."
      responses:
        '200':
          description: 커뮤니케이션 생성 성공 (해당 과제의 전체 커뮤니케이션 목록 반환)
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 200
                  isSuccess:
                    type: boolean
                    example: true
                  code:
                    type: string
                    example: "COMMON200"
                  message:
                    type: string
                    example: "커뮤니케이션 생성 성공"
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        communication_id:
                          type: integer
                          example: 1
                        name:
                          type: string
                          example: "팀 슬랙 채널"
                        url:
                          type: string
                          example: "https://slack.com/channel/..."
                    example:
                      - communication_id: 1 
                        name: "기존 슬랙 채널"
                        url: "https://slack.com/old-channel"
                      - communication_id: 2
                        name: "새로 추가된 디스코드"
                        url: "https://discord.com/..."
        '400':
          description: 잘못된 요청
        '401':
          description: 인증 실패
        '403':
          description: 권한 없음
        '404':
          description: 과제를 찾을 수 없음

  # 커뮤니케이션 수정 및 삭제
  /api/v1/modal/communication/{taskId}/{communicationId}:
    patch:
      tags:
        - Reference
      summary: 커뮤니케이션 수정
      description: 과제의 커뮤니케이션을 수정합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: taskId
          required: true
          schema:
            type: integer
          description: 과제 ID
        - in: path
          name: communicationId
          required: true
          schema:
            type: integer
          description: 커뮤니케이션 ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 커뮤니케이션 이름
                url:
                  type: string
                  description: 커뮤니케이션 URL
              example:
                name: "수정된 슬랙 채널"
                url: "https://slack.com/new-channel/..."
      responses:
        '200':
          description: 커뮤니케이션 수정 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 200
                  isSuccess:
                    type: boolean
                    example: true
                  code:
                    type: string
                    example: "COMMON200"
                  message:
                    type: string
                    example: "커뮤니케이션 수정 성공"
                  data:
                    type: object
                    properties:
                      communication_id:
                        type: integer
                        example: 1
                      name:
                        type: string
                        example: "수정된 슬랙 채널"
                      url:
                        type: string
                        example: "https://slack.com/new-channel/..."
        '400':
          description: 잘못된 요청
        '401':
          description: 인증 실패
        '403':
          description: 권한 없음
        '404':
          description: 커뮤니케이션을 찾을 수 없음

    delete:
      tags:
        - Reference
      summary: 커뮤니케이션 삭제
      description: 과제의 커뮤니케이션을 삭제합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: taskId
          required: true
          schema:
            type: integer
          description: 과제 ID
        - in: path
          name: communicationId
          required: true
          schema:
            type: integer
          description: 커뮤니케이션 ID
      responses:
        '200':
          description: 커뮤니케이션 삭제 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 200
                  isSuccess:
                    type: boolean
                    example: true
                  code:
                    type: string
                    example: "COMMON200"
                  message:
                    type: string
                    example: "커뮤니케이션 삭제 성공"
                  data:
                    type: object
                    nullable: true
                    example: null
        '400':
          description: 잘못된 요청
        '401':
          description: 인증 실패
        '403':
          description: 권한 없음
        '404':
          description: 커뮤니케이션을 찾을 수 없음

  # -- 회의록 API --
  # 회의록 생성
  /api/v1/reference/log/{taskId}:
    post:
      tags:
        - Reference
      summary: 회의록 생성
      description: 과제에 회의록을 추가합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: taskId
          required: true
          schema:
            type: integer
          description: 과제 ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - date
              properties:
                date:
                  type: string
                  format: date
                  description: 회의 일자 (YYYY.MM.DD 또는 ISO 형식)
                agenda:
                  type: string
                  nullable: true
                  description: 회의 안건
                conclusion:
                  type: string
                  nullable: true
                  description: 회의 결론
                discussion:
                  type: string
                  nullable: true
                  description: 회의 논의 내용
              example:
                date: "2026.01.28"
                agenda: "프로젝트 진행 현황 점검"
                conclusion: "다음 주까지 기능 구현 완료"
                discussion: "각자 맡은 부분에 대한 진행 상황 공유"
      responses:
        '200':
          description: 회의록 생성 성공 (해당 과제의 전체 회의록 목록 반환)
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 200
                  isSuccess:
                    type: boolean
                    example: true
                  code:
                    type: string
                    example: "COMMON200"
                  message:
                    type: string
                    example: "회의록 생성 성공"
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        log_id:
                          type: integer
                          example: 1
                        date:
                          type: string
                          format: date-time
                          example: "2026-01-28T00:00:00Z"
                        agenda:
                          type: string
                          nullable: true
                          example: "프로젝트 진행 현황 점검"
                        conclusion:
                          type: string
                          nullable: true
                          example: "다음 주까지 기능 구현 완료"
                        discussion:
                          type: string
                          nullable: true
                          example: "각자 맡은 부분에 대한 진행 상황 공유"
              
                    example:
                      - log_id: 1
                        date: "2026-01-27T00:00:00Z"
                        agenda: "1차 회의"
                        conclusion: "역할 분담 완료"
                        discussion: "팀원 소개 및 목표 설정"
                      - log_id: 2
                        date: "2026-01-28T00:00:00Z"
                        agenda: "프로젝트 진행 현황 점검"
                        conclusion: "다음 주까지 기능 구현 완료"
                        discussion: "각자 맡은 부분에 대한 진행 상황 공유"
        '400':
          description: 잘못된 요청
        '401':
          description: 인증 실패
        '403':
          description: 권한 없음
        '404':
          description: 과제를 찾을 수 없음

  # 회의록 수정 및 삭제
  /api/v1/reference/log/{taskId}/{logId}:
    patch:
      tags:
        - Reference
      summary: 회의록 수정
      description: 과제의 회의록을 수정합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: taskId
          required: true
          schema:
            type: integer
          description: 과제 ID
        - in: path
          name: logId
          required: true
          schema:
            type: integer
          description: 회의록 ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                date:
                  type: string
                  format: date
                  description: 회의 일자 (YYYY.MM.DD)
                agenda:
                  type: string
                  description: 회의 안건
                conclusion:
                  type: string
                  description: 회의 결론
                discussion:
                  type: string
                  description: 회의 논의 내용
              example:
                date: "2026.01.29"
                agenda: "수정된 안건"
                conclusion: "수정된 결론"
      responses:
        '200':
          description: 회의록 수정 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 200
                  isSuccess:
                    type: boolean
                    example: true
                  code:
                    type: string
                    example: "COMMON200"
                  message:
                    type: string
                    example: "회의록 수정 성공"
                  data:
                    type: object
                    properties:
                      log_id:
                        type: integer
                        example: 1
                      date:
                        type: string
                        format: date-time
                        example: "2026-01-29T00:00:00Z"
                      agenda:
                        type: string
                        example: "수정된 안건"
                      conclusion:
                        type: string
                        example: "수정된 결론"
                      discussion:
                        type: string
                        example: "수정된 논의 내용"
                    
        '400':
          description: 잘못된 요청
        '401':
          description: 인증 실패
        '403':
          description: 권한 없음
        '404':
          description: 회의록을 찾을 수 없음

    delete:
      tags:
        - Reference
      summary: 회의록 삭제
      description: 과제의 회의록을 삭제합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: taskId
          required: true
          schema:
            type: integer
          description: 과제 ID
        - in: path
          name: logId
          required: true
          schema:
            type: integer
          description: 회의록 ID
      responses:
        '200':
          description: 회의록 삭제 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 200
                  isSuccess:
                    type: boolean
                    example: true
                  code:
                    type: string
                    example: "COMMON200"
                  message:
                    type: string
                    example: "회의록 삭제 성공"
                  data:
                    type: object
                    nullable: true
                    example: null
        '400':
          description: 잘못된 요청
        '401':
          description: 인증 실패
        '403':
          description: 권한 없음
        '404':
          description: 회의록을 찾을 수 없음